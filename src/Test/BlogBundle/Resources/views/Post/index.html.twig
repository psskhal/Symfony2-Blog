{% extends '::base.html.twig' %}

{% block body -%}
    <div class="panel panel-default">
        <div class="panel-heading"><h2>Post Manager</h2></div>

        <table class="table table-striped table-bordered table-hover">
            <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Address</th>
                <th>Action</th>
            </tr>
            </thead>
            <tbody>
            {% for post in posts %}
                <tr>
                    <td> {{ post.name }}</td>
                    <td> {{ post.email }}</td>
                    <td> {{ post.address }}</td>
                    <td><a href="{{ path('post_show', {'id': post.id}) }}">View Post</a>
                        | <a href="{{ path('post_edit', {'id': post.id}) }}">Edit Post</a>
                        | <a href="{{ path('post_remove', {'id': post.id}) }}" onclick="return confirm('Are your ' +
                         'sure?');
                        ">Delete  Post</a></td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="pagination">
        <form id= "paginator" name="paginator" method="get" action="#" >
            <label for="limit">Items to show on the page: </label>
            <select name="limit" id="limit" onchange="javascript:document.forms.paginator.submit()">
                {% for opt in paginator.options%}
                    {% if opt > 0 %}
                        <option value="{{opt}}" {% if paginator.limit == opt %}selected {% endif %}>{{opt}}</option>
                    {% endif %}
                {% endfor %}
                <option value="0" {% if paginator.limit==0 %}selected{% endif %}>All</option>
            </select>
        </form>
        Go to page:<br />
        <ul  class="pagination">
            {% for i in 1..paginator.numpages %}
                {% if i==paginator.currentpage %}
                    <li><a class="active" href="{{paginator.currentUrl}}?limit={{paginator.limit}}&amp;page={{i}}">{{i}}</a></li>
                {% else %}
                    <li><a href="{{paginator.currentUrl}}?limit={{paginator.limit}}&amp;page={{i}}">{{i}}</a></li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>

{% endblock %}
